"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[79],{1079:function(n,e,t){t.r(e),t.d(e,{default:function(){return cn}});var r,a,o,c,s,i,u,l,d,p,m,f,x,h,b,Z,v,g,j,k=t(9434),C=t(9439),w=t(168),y=t(225),A=y.Z.div(r||(r=(0,w.Z)([""]))),L=y.Z.ul(a||(a=(0,w.Z)([""]))),S=t(7870),z=t(2791),F=t(4164),M=y.Z.div(o||(o=(0,w.Z)(["\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.8);\n  left: 0;\n  top: 0;\n"]))),N=y.Z.div(c||(c=(0,w.Z)(["\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  background-color: #fff;\n  width: 700px;\n  height: 400px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),q=t(3329),D=document.querySelector("#modal-root"),E=function(n){var e=n.closeModal,t=n.children;return(0,z.useEffect)((function(){var n=function(n){e(n)};return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}})),(0,F.createPortal)((0,q.jsx)(M,{onClick:function(n){e(n)},children:(0,q.jsx)(N,{children:t})}),D)},I=y.Z.li(s||(s=(0,w.Z)([""]))),P=y.Z.button(i||(i=(0,w.Z)(["\n  cursor: pointer;\n"]))),T=function(n){var e=n.name,t=n.number,r=n.handleDeleteContact,a=n.contactChange,o=n.id;return(0,q.jsxs)(I,{children:[e," - ",t,(0,q.jsx)(P,{type:"button",onClick:function(){r(o)},children:"Delete"}),(0,q.jsx)(P,{type:"button",onClick:function(){a(o)},children:"Change"})]})},_=t(7762),B=t(5861),J=t(4687),$=t.n(J),G=y.Z.form(u||(u=(0,w.Z)(["\n  border: 1px solid black;\n  margin-top: 10px;\n  padding: 15px;\n  width: 400px;\n"]))),H=y.Z.label(l||(l=(0,w.Z)(["\n  display: flex;\n  flex-direction: column;\n  :not(:first-of-type) {\n    margin-top: 10px;\n  }\n"]))),K=y.Z.span(d||(d=(0,w.Z)([""]))),O=y.Z.input(p||(p=(0,w.Z)(["\n  margin-top: 10px;\n  width: 200px;\n"]))),Q=y.Z.button(m||(m=(0,w.Z)(["\n  display: block;\n  margin-top: 20px;\n  cursor: pointer;\n  background-color: transparent;\n  border-style: none;\n  border-radius: 5px;\n  outline: 1px solid silver;\n"]))),R=function(n){var e=n.currentContact,t=n.closeModal,r=e.id,a=e.name,o=e.number,c=(0,z.useState)(a),s=(0,C.Z)(c,2),i=s[0],u=s[1],l=(0,z.useState)(o),d=(0,C.Z)(l,2),p=d[0],m=d[1],f=(0,k.v9)((function(n){return n.contacts.items})),x=(0,k.I0)(),h=function(n){var e=n.currentTarget,t=e.name,r=e.value;switch(t){case"name":u(r);break;case"number":m(r);break;default:return}},b=function(){var n=(0,B.Z)($().mark((function n(e){var a,o,c;return $().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.preventDefault(),a={id:r,name:i,number:p},o=(0,_.Z)(f),n.prev=3,o.s();case 5:if((c=o.n()).done){n.next=14;break}if(c.value.name.toLowerCase()!==a.name.toLocaleLowerCase()){n.next=12;break}return alert("\u0431\u0435\u0437 \u0448\u0430\u043d\u0441\u0456\u0432 \u0437\u043c\u0456\u043d\u0438\u0442\u0438, \u0432\u0436\u0435 \u043c\u0430\u0454\u043c\u043e \u043a\u043e\u043d\u0442\u0430\u043a\u0442 \u0437 \u0442\u0430\u043a\u0438\u043c \u0456\u043c'\u044f\u043c"),u(""),m(""),n.abrupt("return");case 12:n.next=5;break;case 14:n.next=19;break;case 16:n.prev=16,n.t0=n.catch(3),o.e(n.t0);case 19:return n.prev=19,o.f(),n.finish(19);case 22:return n.next=24,x(S.Z.changeContact(a));case 24:t((function(n){return!n}));case 25:case"end":return n.stop()}}),n,null,[[3,16,19,22]])})));return function(e){return n.apply(this,arguments)}}();return(0,q.jsxs)(G,{onSubmit:b,children:[(0,q.jsxs)(H,{children:[(0,q.jsx)(K,{children:"Name"}),(0,q.jsx)(O,{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:i,onChange:h})]}),(0,q.jsxs)(H,{children:[(0,q.jsx)(K,{children:"Number"}),(0,q.jsx)(O,{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:p,onChange:h})]}),(0,q.jsx)(Q,{type:"submit",children:"ChangeContact"})]})},U=function(){var n=(0,k.I0)(),e=(0,k.v9)((function(n){return n.user.user.name})),t=(0,k.v9)((function(n){return n.contacts.items})),r=(0,k.v9)((function(n){return n.contacts.filter})),a=(0,z.useState)(null),o=(0,C.Z)(a,2),c=o[0],s=o[1],i=(0,z.useState)(!1),u=(0,C.Z)(i,2),l=u[0],d=u[1];(0,z.useEffect)((function(){e&&n(S.Z.getContacts())}),[n,e]);var p=(0,z.useMemo)((function(){return t.filter((function(n){return n.name.toLowerCase().includes(r.toLowerCase())}))}),[t,r]),m=function(e){n(S.Z.deleteContact(e))},f=function(n){var e=t.find((function(e){return e.id===n}));s(e),d((function(n){return!n}))};return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(A,{children:(0,q.jsx)(L,{children:p.map((function(n){var e=n.name,t=n.number,r=n.id;return(0,q.jsx)(T,{name:e,number:t,id:r,handleDeleteContact:m,contactChange:f},"".concat(r))}))})}),l&&(0,q.jsx)(E,{closeModal:function(n){n.target!==n.currentTarget&&"Escape"!==n.code||d((function(n){return!n}))},children:(0,q.jsx)(R,{currentContact:c,closeModal:d})})]})},V=y.Z.form(f||(f=(0,w.Z)(["\n  border: 1px solid black;\n  margin-top: 10px;\n  padding: 15px;\n  width: 400px;\n"]))),W=y.Z.label(x||(x=(0,w.Z)(["\n  display: flex;\n  flex-direction: column;\n  :not(:first-of-type) {\n    margin-top: 10px;\n  }\n"]))),X=y.Z.span(h||(h=(0,w.Z)([""]))),Y=y.Z.input(b||(b=(0,w.Z)(["\n  margin-top: 10px;\n  width: 200px;\n"]))),nn=y.Z.button(Z||(Z=(0,w.Z)(["\n  display: block;\n  margin-top: 20px;\n  cursor: pointer;\n  background-color: transparent;\n  border-style: none;\n  border-radius: 5px;\n  outline: 1px solid silver;\n"]))),en=function(){var n=(0,z.useState)(""),e=(0,C.Z)(n,2),t=e[0],r=e[1],a=(0,z.useState)(""),o=(0,C.Z)(a,2),c=o[0],s=o[1],i=(0,k.I0)(),u=(0,k.v9)((function(n){return n.contacts.items})),l=function(n){var e=n.currentTarget,t=e.name,a=e.value;switch(t){case"name":r(a);break;case"number":s(a);break;default:return}},d=function(){var n=(0,B.Z)($().mark((function n(e){var a,o,l;return $().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.preventDefault(),a={name:t,number:c},o=(0,_.Z)(u),n.prev=3,o.s();case 5:if((l=o.n()).done){n.next=14;break}if(l.value.name.toLowerCase()!==a.name.toLocaleLowerCase()){n.next=12;break}return alert("\u0431\u0435\u0437 \u0448\u0430\u043d\u0441\u0456\u0432 \u0434\u043e\u0434\u0430\u0442\u0438, \u0432\u0436\u0435 \u043c\u0430\u0454\u043c\u043e \u043a\u043e\u043d\u0442\u0430\u043a\u0442 \u0437 \u0442\u0430\u043a\u0438\u043c \u0456\u043c'\u044f\u043c"),r(""),s(""),n.abrupt("return");case 12:n.next=5;break;case 14:n.next=19;break;case 16:n.prev=16,n.t0=n.catch(3),o.e(n.t0);case 19:return n.prev=19,o.f(),n.finish(19);case 22:return n.next=24,i(S.Z.addContact(a));case 24:return n.next=26,i(S.Z.getContacts());case 26:r(""),s("");case 28:case"end":return n.stop()}}),n,null,[[3,16,19,22]])})));return function(e){return n.apply(this,arguments)}}();return(0,q.jsx)(q.Fragment,{children:(0,q.jsxs)(V,{onSubmit:d,children:[(0,q.jsxs)(W,{children:[(0,q.jsx)(X,{children:"Name"}),(0,q.jsx)(Y,{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:t,onChange:l})]}),(0,q.jsxs)(W,{children:[(0,q.jsx)(X,{children:"Number"}),(0,q.jsx)(Y,{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:c,onChange:l})]}),(0,q.jsx)(nn,{type:"submit",children:"Add contact"})]})})},tn=y.Z.h1(v||(v=(0,w.Z)([""]))),rn=(y.Z.h2(g||(g=(0,w.Z)(["\n  margin-top: 10px;\n"]))),t(6531)),an=y.Z.p(j||(j=(0,w.Z)(["\n  margin-top: 5px;\n"])));function on(){var n=(0,k.I0)();return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(an,{children:"Find contacts by name"}),(0,q.jsx)(Y,{type:"text",onChange:function(e){n((0,rn.Tv)({text:e.target.value}))}})]})}var cn=function(){var n=(0,k.v9)((function(n){return n.contacts.items}));return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(tn,{children:"Phonebook"}),(0,q.jsx)(en,{}),n.length>0&&(0,q.jsx)(on,{}),(0,q.jsx)(U,{})]})}}}]);
//# sourceMappingURL=79.ac4f119c.chunk.js.map