"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[111],{111:function(n,e,t){t.r(e),t.d(e,{default:function(){return sn}});var r,a,o,i,c,s,u=t(434),l=t(885),d=t(168),p=t(587),f=p.Z.div(r||(r=(0,d.Z)([""]))),m=p.Z.ul(a||(a=(0,d.Z)([""]))),h=t(870),x=t(791),b=t(164),v=p.Z.div(o||(o=(0,d.Z)(["\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.8);\n  left: 0;\n  top: 0;\n"]))),Z=p.Z.div(i||(i=(0,d.Z)(["\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  background-color: #fff;\n  width: 700px;\n  height: 400px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),g=t(329),y=document.querySelector("#modal-root"),j=function(n){var e=n.closeModal,t=n.children;return(0,x.useEffect)((function(){var n=function(n){e(n)};return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}})),(0,b.createPortal)((0,g.jsx)(v,{onClick:function(n){e(n)},children:(0,g.jsx)(Z,{children:t})}),y)},k=p.Z.li(c||(c=(0,d.Z)([""]))),w=p.Z.button(s||(s=(0,d.Z)(["\n  cursor: pointer;\n"]))),C=function(n){var e=n.name,t=n.number,r=n.handleDeleteContact,a=n.contactChange,o=n.id;return(0,g.jsxs)(k,{children:[e," - ",t,(0,g.jsx)(w,{type:"button",onClick:function(){r(o)},children:"Delete"}),(0,g.jsx)(w,{type:"button",onClick:function(){a(o)},children:"Change"})]})},A=t(181);function S(n,e){var t="undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=(0,A.Z)(n))||e&&n&&"number"===typeof n.length){t&&(n=t);var r=0,a=function(){};return{s:a,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){t=t.call(n)},n:function(){var n=t.next();return i=n.done,n},e:function(n){c=!0,o=n},f:function(){try{i||null==t.return||t.return()}finally{if(c)throw o}}}}var L,z,F,M,E,I,N,q,D,T,P,_,B,J=t(861),$=t(687),G=t.n($),H=p.Z.form(L||(L=(0,d.Z)(["\n  border: 1px solid black;\n  margin-top: 10px;\n  padding: 15px;\n  width: 400px;\n"]))),K=p.Z.label(z||(z=(0,d.Z)(["\n  display: flex;\n  flex-direction: column;\n  :not(:first-of-type) {\n    margin-top: 10px;\n  }\n"]))),O=p.Z.span(F||(F=(0,d.Z)([""]))),Q=p.Z.input(M||(M=(0,d.Z)(["\n  margin-top: 10px;\n  width: 200px;\n"]))),R=p.Z.button(E||(E=(0,d.Z)(["\n  display: block;\n  margin-top: 20px;\n  cursor: pointer;\n  background-color: transparent;\n  border-style: none;\n  border-radius: 5px;\n  outline: 1px solid silver;\n"]))),U=function(n){var e=n.currentContact,t=n.closeModal,r=e.id,a=e.name,o=e.number,i=(0,x.useState)(a),c=(0,l.Z)(i,2),s=c[0],d=c[1],p=(0,x.useState)(o),f=(0,l.Z)(p,2),m=f[0],b=f[1],v=(0,u.v9)((function(n){return n.contacts.items})),Z=(0,u.I0)(),y=function(n){var e=n.currentTarget,t=e.name,r=e.value;switch(t){case"name":d(r);break;case"number":b(r);break;default:return}},j=function(){var n=(0,J.Z)(G().mark((function n(e){var a,o,i;return G().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.preventDefault(),a={id:r,name:s,number:m},o=S(v),n.prev=3,o.s();case 5:if((i=o.n()).done){n.next=14;break}if(i.value.name.toLowerCase()!==a.name.toLocaleLowerCase()){n.next=12;break}return alert("\u0431\u0435\u0437 \u0448\u0430\u043d\u0441\u0456\u0432 \u0437\u043c\u0456\u043d\u0438\u0442\u0438, \u0432\u0436\u0435 \u043c\u0430\u0454\u043c\u043e \u043a\u043e\u043d\u0442\u0430\u043a\u0442 \u0437 \u0442\u0430\u043a\u0438\u043c \u0456\u043c'\u044f\u043c"),d(""),b(""),n.abrupt("return");case 12:n.next=5;break;case 14:n.next=19;break;case 16:n.prev=16,n.t0=n.catch(3),o.e(n.t0);case 19:return n.prev=19,o.f(),n.finish(19);case 22:return n.next=24,Z(h.Z.changeContact(a));case 24:t((function(n){return!n}));case 25:case"end":return n.stop()}}),n,null,[[3,16,19,22]])})));return function(e){return n.apply(this,arguments)}}();return(0,g.jsxs)(H,{onSubmit:j,children:[(0,g.jsxs)(K,{children:[(0,g.jsx)(O,{children:"Name"}),(0,g.jsx)(Q,{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:s,onChange:y})]}),(0,g.jsxs)(K,{children:[(0,g.jsx)(O,{children:"Number"}),(0,g.jsx)(Q,{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:m,onChange:y})]}),(0,g.jsx)(R,{type:"submit",children:"ChangeContact"})]})},V=function(){var n=(0,u.I0)(),e=(0,u.v9)((function(n){return n.user.user.name})),t=(0,u.v9)((function(n){return n.contacts.items})),r=(0,u.v9)((function(n){return n.contacts.filter})),a=(0,x.useState)(null),o=(0,l.Z)(a,2),i=o[0],c=o[1],s=(0,x.useState)(!1),d=(0,l.Z)(s,2),p=d[0],b=d[1];(0,x.useEffect)((function(){e&&n(h.Z.getContacts())}),[n,e]);var v=(0,x.useMemo)((function(){return t.filter((function(n){return n.name.toLowerCase().includes(r.toLowerCase())}))}),[t,r]),Z=function(e){n(h.Z.deleteContact(e))},y=function(n){var e=t.find((function(e){return e.id===n}));c(e),b((function(n){return!n}))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(f,{children:(0,g.jsx)(m,{children:v.map((function(n){var e=n.name,t=n.number,r=n.id;return(0,g.jsx)(C,{name:e,number:t,id:r,handleDeleteContact:Z,contactChange:y},"".concat(r))}))})}),p&&(0,g.jsx)(j,{closeModal:function(n){n.target!==n.currentTarget&&"Escape"!==n.code||b((function(n){return!n}))},children:(0,g.jsx)(U,{currentContact:i,closeModal:b})})]})},W=p.Z.form(I||(I=(0,d.Z)(["\n  border: 1px solid black;\n  margin-top: 10px;\n  padding: 15px;\n  width: 400px;\n"]))),X=p.Z.label(N||(N=(0,d.Z)(["\n  display: flex;\n  flex-direction: column;\n  :not(:first-of-type) {\n    margin-top: 10px;\n  }\n"]))),Y=p.Z.span(q||(q=(0,d.Z)([""]))),nn=p.Z.input(D||(D=(0,d.Z)(["\n  margin-top: 10px;\n  width: 200px;\n"]))),en=p.Z.button(T||(T=(0,d.Z)(["\n  display: block;\n  margin-top: 20px;\n  cursor: pointer;\n  background-color: transparent;\n  border-style: none;\n  border-radius: 5px;\n  outline: 1px solid silver;\n"]))),tn=function(){var n=(0,x.useState)(""),e=(0,l.Z)(n,2),t=e[0],r=e[1],a=(0,x.useState)(""),o=(0,l.Z)(a,2),i=o[0],c=o[1],s=(0,u.I0)(),d=(0,u.v9)((function(n){return n.contacts.items})),p=function(n){var e=n.currentTarget,t=e.name,a=e.value;switch(t){case"name":r(a);break;case"number":c(a);break;default:return}},f=function(){var n=(0,J.Z)(G().mark((function n(e){var a,o,u;return G().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.preventDefault(),a={name:t,number:i},o=S(d),n.prev=3,o.s();case 5:if((u=o.n()).done){n.next=14;break}if(u.value.name.toLowerCase()!==a.name.toLocaleLowerCase()){n.next=12;break}return alert("\u0431\u0435\u0437 \u0448\u0430\u043d\u0441\u0456\u0432 \u0434\u043e\u0434\u0430\u0442\u0438, \u0432\u0436\u0435 \u043c\u0430\u0454\u043c\u043e \u043a\u043e\u043d\u0442\u0430\u043a\u0442 \u0437 \u0442\u0430\u043a\u0438\u043c \u0456\u043c'\u044f\u043c"),r(""),c(""),n.abrupt("return");case 12:n.next=5;break;case 14:n.next=19;break;case 16:n.prev=16,n.t0=n.catch(3),o.e(n.t0);case 19:return n.prev=19,o.f(),n.finish(19);case 22:return n.next=24,s(h.Z.addContact(a));case 24:return n.next=26,s(h.Z.getContacts());case 26:r(""),c("");case 28:case"end":return n.stop()}}),n,null,[[3,16,19,22]])})));return function(e){return n.apply(this,arguments)}}();return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(W,{onSubmit:f,children:[(0,g.jsxs)(X,{children:[(0,g.jsx)(Y,{children:"Name"}),(0,g.jsx)(nn,{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:t,onChange:p})]}),(0,g.jsxs)(X,{children:[(0,g.jsx)(Y,{children:"Number"}),(0,g.jsx)(nn,{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:i,onChange:p})]}),(0,g.jsx)(en,{type:"submit",children:"Add contact"})]})})},rn=p.Z.h1(P||(P=(0,d.Z)([""]))),an=(p.Z.h2(_||(_=(0,d.Z)(["\n  margin-top: 10px;\n"]))),t(531)),on=p.Z.p(B||(B=(0,d.Z)(["\n  margin-top: 5px;\n"])));function cn(){var n=(0,u.I0)();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(on,{children:"Find contacts by name"}),(0,g.jsx)(nn,{type:"text",onChange:function(e){n((0,an.Tv)({text:e.target.value}))}})]})}var sn=function(){var n=(0,u.v9)((function(n){return n.contacts.items}));return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(rn,{children:"Phonebook"}),(0,g.jsx)(tn,{}),n.length>0&&(0,g.jsx)(cn,{}),(0,g.jsx)(V,{})]})}}}]);
//# sourceMappingURL=111.283e382d.chunk.js.map